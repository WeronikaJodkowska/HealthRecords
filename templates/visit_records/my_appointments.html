{% extends "base.html" %}

{% load static %}

{% block title %}Appointments{% endblock %}

{% block content %}

    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark z-index-9  fixed-top" id="mainNav">

        <div class="collapse navbar-collapse" id="navbarResponsive">

            <ul class="navbar-nav navbar-sidenav background-main-color admin-nav" id="admin-nav">
                <li class="nav-item">
                    <span class="nav-title-text">Main</span>
                </li>
                <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Dashboard">
                    <a class="nav-link" href="dashboard-home.html">
                        <i class="fas fa-fw fa-home"></i><span class="nav-link-text">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item" data-toggle="tooltip" data-placement="right" title="My items">
                    <a class="nav-link" href="{% url "visit_records:visit_list" %}">
                        <i class="fa fa-fw fa-table"></i>
                        <span class="nav-link-text">My Appointments</span>
                    </a>
                </li>

                <li class="nav-item">
                    <span class="nav-title-text">Add Pages</span>
                </li>
                <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Add Listing">
                    <a class="nav-link active" href="{% url "visit_records:add_appointment" %}">
                        <i class="fa fa-fw fa-plus-circle"></i>
                        <span class="nav-link-text">Add an Appointment</span>
                    </a>
                </li>

                <li class="nav-item">
                    <span class="nav-title-text">User Area</span>
                </li>
                <li class="nav-item" data-toggle="tooltip" data-placement="right" title="My Profile">
                    <a class="nav-link" href="{% url "users:edit_profile" %}">
                        <i class="fa fa-fw fa-user-circle"></i>
                        <span class="nav-link-text">My Profile</span>
                    </a>
                </li>
                <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Sing Out">
                    <a class="nav-link" href="{% url "users:logout" %}" data-toggle="modal" data-target="#exampleModal">
                        <i class="fa fa-fw fa-sign-out-alt"></i>
                        <span class="nav-link-text">Sing Out</span>
                    </a>
                </li>
            </ul>

        </div>
    </nav>

    <div class="content-wrapper">
        <div class="container-fluid overflow-hidden">
            <div id="page-title" class="padding-tb-30px gradient-white">
                <div class="container">
                    <ol class="breadcrumb opacity-5">
                        <li><a href="{% url "users:index" %}">Home</a></li>
                        <li><a href="{% url "visit_records:visit_list" %}">Appointments</a></li>
                        <li class="active">Appointments</li>
                    </ol>
                    <h1 class="font-weight-300">Appointments</h1>
                </div>
            </div>

            <div class="margin-tb-30px">

                <div class="container">

                    <div class="col-lg-8">
                        <div class="row">

                            {% for obj in appointment_list %}
                                <!-- Doctor -->
                                <div class="col-lg-4 col-md-6 hvr-bob sm-mb-45px">
                                    <div class="background-white box-shadow margin-bottom-45px">
                                        <div class="padding-lr-10px padding-bottom-10px padding-right-10px">
                                            <div class="pull-top-40px z-index-2 position-relative">
                                                <label class="small mb-1 text-blue">Category:</label>
                                                <span class="margin-tb-15px text-medium"><a
                                                        href="{% url "visit_records:appointment" obj.id %}">{{ obj.med_category }}</a></span>
                                                <br>
                                                <label class="small mb-1 text-blue">Date:</label>
                                                <span class="margin-tb-15px text-medium"><a
                                                        href="{% url "visit_records:appointment" obj.id %}">{{ obj.appointment_date }}</a></span>
                                                <br>
                                                <label class="small mb-1 text-blue">Doctor:</label>
                                                <span class="margin-tb-15px text-medium"><a
                                                        href="{% url "visit_records:appointment" obj.id %}">{{ obj.doctor }}</a></span>
                                                <br>
                                                <label class="small mb-1 text-blue">Clinic:</label>
                                                <span class="margin-tb-15px text-medium"><a
                                                        href="{% url "visit_records:appointment" obj.id %}">{{ obj.clinic }}</a></span>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <!-- // Doctor -->
                            {% endfor %}
                        </div>
                        {% if is_paginated %}
                            <ul class="pagination pagination-md ">
                                <li class="page-item">
                                    {% if page_obj.has_previous %}
                                        <a class="page-link rounded-0" href="?page=1">&laquo; first</a>
                                        <a class="page-link rounded-0"
                                           href="?page={{ page_obj.previous_page_number }}" tabindex="-1">Previous</a>
                                    {% endif %}
                                </li>

                                <li class="page-current">
                                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                                </li>

                                {% if page_obj.has_next %}
                                    <li class="page-item">
                                        <a class="page-link rounded-0"
                                           href="?page={{ page_obj.next_page_number }}">Next</a>
                                        <a class="page-link rounded-0"
                                           href="?page={{ page_obj.paginator.num_pages }}">Last &raquo;</a>
                                    </li>
                                {% endif %}
                            </ul>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}